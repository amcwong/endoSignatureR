% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plots.R
\name{plotEndometrialCalibration}
\alias{plotEndometrialCalibration}
\title{Plot Endometrial Calibration Curve}
\usage{
plotEndometrialCalibration(
  predictions,
  use_calibrated = FALSE,
  n_bins = 10,
  show_brier = TRUE,
  show_ece = TRUE,
  color_palette = NULL,
  ...
)
}
\arguments{
\item{predictions}{A data.frame with columns: \code{label} (0/1 binary labels), \code{prob} (raw probabilities), optionally \code{prob_calibrated} (calibrated probabilities).}

\item{use_calibrated}{Logical; use calibrated probabilities if available. Defaults to FALSE.}

\item{n_bins}{Integer; number of bins for calibration plot. Defaults to 10.}

\item{show_brier}{Logical; display Brier Score in annotation. Defaults to TRUE.}

\item{show_ece}{Logical; display Expected Calibration Error (ECE) in annotation. Defaults to TRUE.}

\item{color_palette}{Optional color palette (default: color-blind friendly).}

\item{...}{Additional arguments passed to \code{ggplot2::geom_point()} or \code{ggplot2::geom_bar()}.}
}
\value{
A ggplot object showing calibration curve (predicted probability on x-axis, observed frequency on y-axis).
}
\description{
Creates a calibration curve to visualize how well predicted probabilities match observed frequencies.
}
\details{
This function creates calibration curves to assess probability calibration quality. A well-calibrated
model should have predicted probabilities that match observed frequencies (points close to the
diagonal y = x).

Brier Score measures the mean squared error between predicted probabilities and binary outcomes.
Lower Brier Score indicates better calibration (perfect calibration has Brier Score = 0).

ECE (Expected Calibration Error) measures the weighted average of absolute difference between
predicted probabilities and observed frequencies within bins. Lower ECE indicates better calibration.
}
\examples{
\dontrun{
# After training a signature
result <- esr_trainEndometrialSignature(X, pheno, calibration_method = "platt")

# Plot calibration curve with raw probabilities
p_cal_raw <- plotEndometrialCalibration(result$metrics$predictions, use_calibrated = FALSE)

# Plot calibration curve with calibrated probabilities
p_cal_cal <- plotEndometrialCalibration(result$metrics$predictions, use_calibrated = TRUE)
}

}
