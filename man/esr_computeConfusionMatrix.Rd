% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validate.R
\name{esr_computeConfusionMatrix}
\alias{esr_computeConfusionMatrix}
\title{Compute Confusion Matrix and Performance Metrics}
\usage{
esr_computeConfusionMatrix(predictions, labels, threshold = 0.5)
}
\arguments{
\item{predictions}{A data.frame from \code{esr_classifyEndometrial()} with \code{probability} column,
or a list with \code{predictions} element.}

\item{labels}{A factor or character vector of true labels (PS/PIS or 0/1).}

\item{threshold}{Decision threshold for positive class. Defaults to 0.5.}
}
\value{
A list containing:
\describe{
\item{confusion_matrix}{2x2 matrix with predicted (rows) and actual (columns) labels}
\item{metrics}{Data.frame with performance metrics (accuracy, sensitivity, specificity, PPV, NPV, F1)}
\item{threshold}{Numeric; threshold used}
}
}
\description{
Computes confusion matrix and performance metrics for binary classification predictions.
}
\examples{
\dontrun{
data(gse201926_sample)
signature <- esr_loadPretrainedSignature()
predictions <- esr_classifyEndometrial(
    X_new = gse201926_sample$counts,
    signature = signature,
    threshold = 0.5
)
labels <- gse201926_sample$pheno$group
cm <- esr_computeConfusionMatrix(predictions, labels, threshold = 0.5)
cm$confusion_matrix
cm$metrics
}

}
